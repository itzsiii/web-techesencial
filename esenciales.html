<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esenciales de Escritorio | Tech Esencial</title>
    <meta name="description" content="Herramientas anal√≥gicas y accesorios b√°sicos para mantener el orden y la productividad.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <link rel="icon" type="image/png" href="favicon.png" sizes="32x32">
    <link rel="icon" type="image/png" href="favicon.png" sizes="64x64">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .product-card { transition: all 0.3s ease; }
        .hidden-item { display: none !important; }
    </style>
</head>
<body class="bg-slate-950 text-slate-50 antialiased pb-16 overflow-x-hidden">

    <nav class="fixed top-0 left-0 w-full z-50 border-b border-slate-800/50 bg-slate-950/80 backdrop-blur-md">
        <div class="max-w-5xl mx-auto px-6 h-16 md:h-20 flex justify-between items-center">
            
            <a href="index.html" class="text-lg font-extrabold tracking-tighter text-white flex items-center gap-2 z-50">
                <img src="favicon.png" alt="Logo" class="h-6 w-auto object-contain drop-shadow-[0_0_8px_rgba(34,211,238,0.5)]">
                Tech Esencial.
            </a>

            <div class="hidden md:flex items-center gap-8">
                <a href="index.html" class="text-xs font-medium text-slate-300 hover:text-white transition">Inicio</a>
                <a href="esenciales.html" class="text-xs font-bold text-white transition">Cosas √ötiles</a>
                <a href="blog.html" class="text-xs font-medium text-slate-300 hover:text-white transition">Blog</a>
                
                <a href="en/esenciales.html" class="group flex items-center gap-2 px-2 py-2 rounded-full hover:bg-white/5 transition-all duration-300" title="Switch to English">
                    <svg class="w-4 h-4 text-slate-400 group-hover:text-cyan-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path></svg>
                    <span class="hidden sm:inline text-xs font-bold text-slate-400 group-hover:text-white uppercase tracking-wide">English</span>
                </a>

                <a href="index.html#producto" class="text-[10px] font-bold text-cyan-400 border border-cyan-400/30 px-3 py-1.5 rounded-full hover:bg-cyan-400/10 transition whitespace-nowrap">
                    RECOMENDADO
                </a>
            </div>

            <button id="mobile-menu-btn" class="md:hidden text-white focus:outline-none p-2">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>

        <div id="mobile-menu" class="hidden md:hidden absolute top-16 left-0 w-full bg-slate-950 border-b border-slate-800 shadow-2xl">
            <div class="flex flex-col px-6 py-4 space-y-4">
                <a href="index.html" class="text-sm font-medium text-slate-300 hover:text-white py-2 border-b border-slate-800">Inicio</a>
                <a href="esenciales.html" class="text-sm font-bold text-white py-2 border-b border-slate-800">Cosas √ötiles</a>
                <a href="blog.html" class="text-sm font-medium text-slate-300 hover:text-white py-2 border-b border-slate-800">Blog</a>
                <a href="en/esenciales.html" class="text-sm font-medium text-slate-300 hover:text-white py-2 border-b border-slate-800 flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path></svg>
                    English
                </a>
                <a href="index.html#producto" class="text-sm font-bold text-cyan-400 py-2">
                    VER RECOMENDADO
                </a>
            </div>
        </div>
    </nav>

    <header class="relative pt-28 pb-10 px-6 text-center max-w-5xl mx-auto">
        
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[400px] bg-cyan-900/20 rounded-full blur-[90px] -z-10 pointer-events-none"></div>

        <span class="inline-block py-1 px-3 rounded-full bg-slate-900 text-cyan-400 text-[10px] font-bold uppercase tracking-widest mb-5 border border-slate-800 shadow-sm">
            Cosas √ötiles
        </span>
        
        <h1 class="text-3xl md:text-5xl font-extrabold tracking-tight mb-3 text-white">
            B√°sicos que <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">Funcionan</span>
        </h1>
        
        <p class="text-slate-400 text-base mb-8 max-w-xl mx-auto">
            Herramientas f√≠sicas sencillas para mantener el orden, cuidar tu salud y desconectar.
        </p>

        <div class="max-w-lg mx-auto bg-slate-900/80 p-1.5 rounded-2xl border border-slate-800 shadow-2xl backdrop-blur-xl ring-1 ring-white/5">
            <div class="relative group">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <svg class="w-4 h-4 text-slate-500 group-focus-within:text-cyan-400 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>
                <input type="text" id="searchInput" 
                       class="block w-full pl-10 pr-4 py-3 bg-slate-950 border border-slate-800 rounded-xl text-slate-200 placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 focus:bg-slate-900 transition-all text-sm" 
                       placeholder="¬øQu√© necesitas hoy? (ej. botella, cine, cables)...">
            </div>

            <div class="flex flex-wrap justify-center gap-1.5 mt-2 px-1 pb-1" id="tagContainer">
                <button onclick="filterByTag('all')" class="tag-btn active px-2.5 py-1 rounded-lg text-[10px] font-bold border border-cyan-500 bg-cyan-500/10 text-cyan-400 transition hover:bg-cyan-500 hover:text-white">Todos</button>
                <button onclick="filterByTag('organizacion')" class="tag-btn px-2.5 py-1 rounded-lg text-[10px] font-bold border border-slate-700 bg-slate-800/50 text-slate-400 transition hover:border-cyan-500 hover:text-cyan-400">Organizaci√≥n</button>
                <button onclick="filterByTag('salud')" class="tag-btn px-2.5 py-1 rounded-lg text-[10px] font-bold border border-slate-700 bg-slate-800/50 text-slate-400 transition hover:border-cyan-500 hover:text-cyan-400">Salud</button>
                <button onclick="filterByTag('enfoque')" class="tag-btn px-2.5 py-1 rounded-lg text-[10px] font-bold border border-slate-700 bg-slate-800/50 text-slate-400 transition hover:border-cyan-500 hover:text-cyan-400">Enfoque</button>
                <button onclick="filterByTag('entretenimiento')" class="tag-btn px-2.5 py-1 rounded-lg text-[10px] font-bold border border-slate-700 bg-slate-800/50 text-slate-400 transition hover:border-cyan-500 hover:text-cyan-400">Entretenimiento</button>
            </div>
        </div>
        
        <div class="mt-6 flex justify-center opacity-70 hover:opacity-100 transition">
            <p class="text-[10px] text-slate-500 flex items-center gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-cyan-500"></span>
                Como afiliado de Amazon, obtengo ingresos por las compras adscritas.
            </p>
        </div>
    </header>

    <section class="max-w-6xl mx-auto px-6 pb-20">
        <div id="productsGrid" class="grid md:grid-cols-3 gap-6">
            <div class="text-center col-span-3 text-slate-500 animate-pulse">Cargando productos...</div>
        </div>
        
        <div id="noResults" class="hidden text-center py-20">
            <p class="text-slate-500 text-lg">No encontramos productos con ese filtro. üïµÔ∏è‚Äç‚ôÇÔ∏è</p>
            <button onclick="filterByTag('all')" class="mt-4 text-cyan-400 hover:underline">Ver todos</button>
        </div>
    </section>

    <footer class="mt-20 py-10 text-center text-slate-600 text-xs border-t border-slate-900">
        <a href="index.html" class="hover:text-cyan-400 transition font-bold">Volver al Inicio</a> | <a href="blog.html" class="hover:text-cyan-400 transition">Blog</a>
        <p class="mt-4">&copy; 2026 Tech Esencial.</p>
    </footer>

    <script>
        // SCRIPT DEL MEN√ö M√ìVIL (NUEVO)
        const btnMenu = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        btnMenu.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        // SCRIPT ORIGINAL INTACTO
        const productsGrid = document.getElementById('productsGrid');
        const searchInput = document.getElementById('searchInput');
        const noResultsMsg = document.getElementById('noResults');
        const tagButtons = document.querySelectorAll('.tag-btn');
        let currentTag = 'all';
        let allProductsElements = []; 

        // 1. CARGAR DATOS
        fetch('productos.json')
            .then(response => response.json())
            .then(data => {
                renderProducts(data);
            })
            .catch(error => {
                console.error('Error cargando productos:', error);
                productsGrid.innerHTML = '<p class="text-center text-red-400 col-span-3">Error al cargar productos.</p>';
            });

        // 2. RENDERIZAR
        function renderProducts(products) {
            productsGrid.innerHTML = ''; 
            products.forEach(product => {
                const searchString = `${product.titulo} ${product.descripcion} ${product.keywords}`.toLowerCase();
                
                const productHTML = `
                    <div class="product-card group bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden hover:border-cyan-500/50 transition flex flex-col h-full" 
                         data-category="${product.categorias}" 
                         data-title="${searchString}">
                        
                        <div class="h-48 overflow-hidden relative bg-white">
                            <img src="${product.imagen}" alt="${product.titulo}" class="w-full h-full object-contain p-4 group-hover:scale-105 transition duration-500 opacity-90">
                            
                            <div class="absolute top-3 right-3 bg-slate-900/90 text-cyan-400 border border-slate-700 px-2 py-1 rounded text-[10px] font-bold shadow-sm z-10">${product.badge}</div>
                        </div>

                        <div class="p-5 flex-1 flex flex-col">
                            <h3 class="text-lg font-bold text-white mb-2">${product.titulo}</h3>
                            <p class="text-xs text-slate-400 mb-5 flex-1 leading-relaxed">${product.descripcion}</p>
                            
                            <a href="${product.link}" target="_blank" rel="nofollow noopener" class="w-full block text-center py-2.5 rounded-lg bg-slate-800 text-white text-xs font-semibold hover:bg-cyan-600 transition border border-slate-700 hover:border-transparent">
                                Ver en Amazon (${product.precio})
                            </a>
                        </div>
                    </div>
                `;
                productsGrid.insertAdjacentHTML('beforeend', productHTML);
            });
            allProductsElements = document.querySelectorAll('.product-card');
        }

        // 3. FILTRADO (Tags)
        function filterByTag(tag) {
            currentTag = tag;
            tagButtons.forEach(btn => {
                btn.classList.remove('bg-cyan-500/10', 'text-cyan-400', 'border-cyan-500', 'active');
                btn.classList.add('border-slate-700', 'text-slate-400');
                
                if(btn.getAttribute('onclick').includes(`'${tag}'`)) {
                    btn.classList.remove('border-slate-700', 'text-slate-400');
                    btn.classList.add('bg-cyan-500/10', 'text-cyan-400', 'border-cyan-500', 'active');
                }
            });
            applyFilters();
        }

        // 4. B√öSQUEDA INTELIGENTE
        function applyFilters() {
            const term = searchInput.value.toLowerCase().trim();
            const termSingular = term.endsWith('s') ? term.slice(0, -1) : term;

            let visibleCount = 0;

            allProductsElements.forEach(card => {
                const categories = card.dataset.category || '';
                const fullText = card.dataset.title || ''; 
                
                const matchesTag = currentTag === 'all' || categories.includes(currentTag);
                const matchesSearch = fullText.includes(term) || fullText.includes(termSingular);

                if (matchesTag && matchesSearch) {
                    card.classList.remove('hidden-item');
                    visibleCount++;
                } else {
                    card.classList.add('hidden-item');
                }
            });

            noResultsMsg.classList.toggle('hidden', visibleCount > 0);
        }

        searchInput.addEventListener('keyup', applyFilters);
    </script>

</body>
</html>
